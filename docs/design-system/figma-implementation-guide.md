# Figma実装ガイド - Claude Codeへの効果的な指示方法

作成日: 2025-06-02

## 概要

このドキュメントは、Figmaデザインからコンポーネントを実装する際に、Claude Codeに対して効果的な指示を行うためのガイドラインです。レイアウトの誤解釈やスタイリングのミスを防ぐための具体的な指示方法をまとめています。

## 問題の背景

Figma MCPを使用してコンポーネントを実装する際、以下のような問題が発生することがあります：

- レイアウト方式の誤解（flex vs absolute）
- スペーシングの実装方法の相違（gap vs padding）
- DOM構造の誤った解釈
- 要素間の関係性の見落とし

## 効果的な指示方法

### 1. Figma構造の事前確認を明示的に要求

```
「Figmaのコンポーネント実装前に、必ず以下を確認してください：
- レイアウト方式（flex/grid/absolute）
- 親子関係の構造
- スペーシングの実装方法（gap/padding/margin）
- 各要素の配置方法」
```

### 2. 実装方針の事前提示を要求

```
「コンポーネント実装前に、以下の形式で実装方針を提示してください：

## 実装方針
- レイアウト方式: [flex/grid/absolute]
- DOM構造:
  ```
  親要素
  └── 子要素1
  └── 子要素2
  ```
- スタイリング方法: [具体的なCSS/Tailwindクラス]

この方針でよろしいですか？」
```

### 3. 段階的な実装を指示

```
「以下の手順で実装してください：
1. まずFigmaの構造を分析して報告
2. 実装方針を提案
3. 承認後に実装
4. 実装後に差分を説明」
```

### 4. 具体的な確認ポイントを指定

```
「Figma MCPを使用する際は、特に以下の情報を抽出してください：
- layout.mode（flex/none等）
- layout.gap（要素間のスペース）
- layout.padding（内側の余白）
- 各要素のlayout.sizing（サイズ指定方法）」
```

### 5. 比較検証の要求

```
「実装完了後、以下を確認してください：
1. Figmaのレイアウト構造と実装の一致
2. スペーシング値の一致
3. 配置方法の一致（flex vs absolute等）」
```

## 実際の使用例

### 良い例

```
「@docs/design-system/figma-pages-list.md を基にfigma mcpを使用して、Alertコンポーネントを実装してください。

ただし、実装前に：
1. Figmaのレイアウト構造（flex/grid/absolute）を分析
2. 各要素の配置関係を図示
3. 実装方針を提示
してから実装に進んでください。」
```

### 避けるべき例

```
「Figmaを見てAlertコンポーネントを実装してください。」
```

## Figmaデータの重要な確認ポイント

### layout.mode
- `row`: 横並びのフレックスボックス
- `column`: 縦並びのフレックスボックス
- `none`: 絶対配置または通常フロー

### layout.gap
- フレックスボックスの要素間スペース
- Tailwindの`gap-*`クラスに対応

### layout.padding
- 要素の内側の余白
- 上下左右で異なる値の場合は個別に確認

### fills/strokes
- 背景色やボーダーの情報
- 複数の値がある場合は優先順位を確認

## 実装後の検証チェックリスト

- [ ] Figmaのレイアウト構造（flex/grid/absolute）と一致しているか
- [ ] スペーシング（gap/padding/margin）が正確か
- [ ] 要素のサイズが正しく設定されているか
- [ ] 色やボーダーなどのスタイルが正確か
- [ ] レスポンシブ対応が考慮されているか

## トラブルシューティング

### アイコンとテキストが重なる問題

**原因**: 絶対配置とフレックスボックスの混同

**解決策**:
```tsx
// ❌ 間違い - 絶対配置での実装
<div className="relative">
  <Icon className="absolute left-5 top-5" />
  <div className="pl-[60px]">テキスト</div>
</div>

// ✅ 正解 - フレックスボックスでの実装
<div className="flex gap-6">
  <Icon className="flex-shrink-0" />
  <div>テキスト</div>
</div>
```

### スペーシングが合わない問題

**原因**: gapとpaddingの使い分けの誤り

**解決策**: Figmaの`layout.gap`と`layout.padding`を正確に確認

## まとめ

Figmaからの正確な実装には、以下が重要です：

1. **事前分析**: レイアウト構造の理解
2. **段階的実装**: 方針確認→実装→検証
3. **詳細確認**: 具体的な数値とプロパティの抽出
4. **検証**: 実装後の構造比較

これらのガイドラインに従うことで、Figmaデザインの意図を正確に反映した実装が可能になります。